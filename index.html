<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
<title>Will you be my Valentine?</title>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.3/dist/confetti.browser.min.js"></script>

<style>
:root {
  --bg1: #ffd6e7;
  --bg2: #ffeef6;
  --card: #ffffffcc;
  --yes: #ff3b7a;
  --yesHover: #ff1f68;
}

* { box-sizing: border-box; }

body {
  margin: 0;
  min-height: 100svh;
  display: grid;
  place-items: center;
  background: radial-gradient(circle at top, var(--bg2), var(--bg1));
  font-family: system-ui, sans-serif;
  overflow-x: hidden;
  overflow-y: hidden;
  padding: 16px;
}

/* CONFETTI */
#confettiCanvas {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 9999;
}

.card {
  width: min(720px, 92vw);
  padding: 26px 22px;
  background: var(--card);
  backdrop-filter: blur(10px);
  border-radius: 22px;
  text-align: center;
  box-shadow: 0 18px 60px rgba(0,0,0,.15);
}

h1 {
  font-size: clamp(26px, 4vw, 44px);
  margin: 12px 0 18px;
}

.button-zone {
  position: relative;
  width: min(520px, 92%);
  height: 150px;
  margin: 0 auto;
  touch-action: none;
}

button {
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%) scale(1);
  padding: 16px 26px;
  font-size: 18px;
  font-weight: 800;
  border-radius: 999px;
  border: none;
  cursor: pointer;
  box-shadow: 0 10px 24px rgba(0,0,0,.14);
  transition: background .15s ease;
  user-select: none;
}

#yesBtn {
  left: 30%;
  background: var(--yes);
  color: white;
}

#yesBtn.pulse {
  animation: pulse 0.9s infinite alternate ease-in-out;
}

#noBtn {
  left: 70%;
  background: #e5e7eb;
  color: #111827;
  transition: left 0.3s ease, top 0.3s ease; /* ‚Üê smooth glide */
}

@keyframes pulse {
  from { transform: translate(-50%, -50%) scale(1); }
  to   { transform: translate(-50%, -50%) scale(1.35); }
}

.hint {
  font-size: 13px;
  opacity: .7;
}

.result {
  display: none;
  margin-top: 20px;
}
</style>
</head>

<body>
<canvas id="confettiCanvas"></canvas>

<main class="card">
  <h1>Pinky will you be my Valentine?</h1>

  <section class="button-zone" id="zone">
    <button id="yesBtn">Yes</button>
    <button id="noBtn">No</button>
  </section>

  <div class="hint" id="hint">Hover carefully ‚ù§Ô∏è</div>

  <section class="result" id="result">
    <h2>YAY üíñ</h2>
  </section>
</main>

<script>
const zone = document.getElementById("zone");
const yesBtn = document.getElementById("yesBtn");
const noBtn = document.getElementById("noBtn");
const result = document.getElementById("result");
const hint = document.getElementById("hint");

/* ---------- CONFETTI ---------- */
const canvas = document.getElementById("confettiCanvas");

function resizeCanvas() {
  const dpr = window.devicePixelRatio || 1;
  canvas.width = innerWidth * dpr;
  canvas.height = innerHeight * dpr;
}
resizeCanvas();
addEventListener("resize", resizeCanvas);

const confettiInstance = confetti.create(canvas, { resize:false, useWorker:true });

const heartShape = confetti.shapeFromPath({
  path: "M10 3 C10 0 6 0 6 3 C6 6 10 9 10 12 C10 9 14 6 14 3 C14 0 10 0 10 3 Z",
  matrix: [1.2,0,0,1.2,-10,-6]
});

function hearts() {
  confettiInstance({
    particleCount: 220,
    spread: 140,
    startVelocity: 55,
    ticks: 260,
    shapes: [heartShape],
    scalar: 1.5,
    colors: ["#ff3b7a","#ff7aa2"],
    origin: { x: .5, y: .55 }
  });
}

/* ---------- NO BUTTON RUNS ---------- */
function clamp(n,min,max){ return Math.max(min,Math.min(max,n)); }

zone.addEventListener("pointermove", e => {
  const zb = zone.getBoundingClientRect();
  const b = noBtn.getBoundingClientRect();
  const d = Math.hypot(
    b.left + b.width/2 - e.clientX,
    b.top + b.height/2 - e.clientY
  );
  if (d < 120) {
    let x = Math.random() * (zb.width - b.width);
    let y = Math.random() * (zb.height - b.height);
    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";
  }
});

/* ---------- YES BUTTON MAGIC ---------- */
let hoverTimer = null;
let magnetStrength = 0;

yesBtn.addEventListener("mouseenter", () => {
  magnetStrength = 1;
  yesBtn.classList.add("pulse");
});

yesBtn.addEventListener("mouseleave", () => {
  magnetStrength = 0;
  yesBtn.classList.remove("pulse");
  yesBtn.style.transform = "translate(-50%, -50%) scale(1)";
});

zone.addEventListener("pointermove", e => {
  if (!magnetStrength) return;

  const zb = zone.getBoundingClientRect();
  const b = yesBtn.getBoundingClientRect();

  const cx = b.left + b.width / 2;
  const cy = b.top + b.height / 2;

  const dx = e.clientX - cx;
  const dy = e.clientY - cy;

  yesBtn.style.transform =
    `translate(${dx * 0.12}px, ${dy * 0.12}px) scale(1.3)`;
});

/* ---------- YES CLICK ---------- */
yesBtn.addEventListener("click", () => {
  document.body.style.overflowY = "auto";
  zone.style.display = "none";
  hint.style.display = "none";
  result.style.display = "block";
  hearts();
});
</script>
</body>
</html>

